/**
 * @license
 *
 * Bring
 * loads data with several options (cache, callback, progress bar ...)
 * @author idomusha / https://github.com/idomusha
 *
 * Dependencies:
 *  - NProgress [OPTIONAL]
 */
!function(window,$){var s,Bring={defaults:{ready:!0,debug:!1,oDataCache:{}},options:{},settings:{},init:function(){this.settings=$.extend({},this.defaults,this.options),s=this.settings,s.debug&&console.log("##################### init()")},load:function(url,returned,callback,param,request,loader,fail){s.debug&&console.log("##################### load()");var loading,failed,succeed;loader=loader||!1,fail=fail||!1,request=request||"GET",succeed=$.isFunction(callback)?function(data){s.debug&&console.log("~~~~~~~~ success ~~~~~~~~"),s.ready=!0,$("body").removeClass("js-bring-loading"),void 0!=GoTo&&window.location.hash.length&&setTimeout(function(){GoTo.move(window.location.hash)},1500);try{NProgress.done()}catch(e){}s.oDataCache[url]=data,eval(callback(data))}:function(){s.debug&&console.log("~~~~~~~~ success ~~~~~~~~"),s.ready=!0,$("body").removeClass("js-bring-loading"),void 0!=GoTo&&window.location.hash.length&&setTimeout(function(){GoTo.move(window.location.hash)},1500);try{NProgress.done()}catch(o){console.log(o)}},loading=$.isFunction(loader)?loader:function(){s.debug&&console.log("~~~~~~~~ beforeSend ~~~~~~~~"),s.ready=!1,$("body").addClass("js-bring-loading");try{NProgress.start()}catch(o){console.info("Bring: NProgress is not installed.")}},$.isFunction(fail)?(failed=fail,eval(fail)):failed=function(){s.debug&&console.log("~~~~~~~~ error ~~~~~~~~"),s.ready=!0,$("body").removeClass("js-bring-loading");try{NProgress.done()}catch(o){}},$.ajax({cache:!1,type:request,url:url,data:param,dataType:returned,error:failed,beforeSend:loading,success:succeed})},destroy:function(){s.debug&&console.log("##################### destroy()"),$.removeData(Bring.get(0))},refresh:function(){s.debug&&console.log("##################### refresh()"),Bring.destroy(),Bring.init()}};window.Bring=Bring,Bring.init()}(window,jQuery);